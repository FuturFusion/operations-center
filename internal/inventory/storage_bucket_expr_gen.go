// Code generated by generate-expr. DO NOT EDIT.

package inventory

import (
	"time"

	"github.com/google/uuid"
	"github.com/lxc/incus/v6/shared/api"
)

type ExprApiStorageBucket struct {
	ExprApiStorageBucketPut `yaml:",inline"`
	Name                    string `json:"name" yaml:"name" expr:"name"`
	S3URL                   string `json:"s3_url" yaml:"s3_url" expr:"s3_url"`
	Location                string `json:"location" yaml:"location" expr:"location"`
	Project                 string `json:"project" yaml:"project" expr:"project"`
}

type ExprApiStorageBucketBackup struct {
	Name      string    `json:"name" yaml:"name" expr:"name"`
	CreatedAt time.Time `json:"created_at" yaml:"created_at" expr:"created_at"`
	ExpiresAt time.Time `json:"expires_at" yaml:"expires_at" expr:"expires_at"`
}

type ExprApiStorageBucketFull struct {
	ExprApiStorageBucket `yaml:",inline"`
	Backups              []ExprApiStorageBucketBackup `json:"backups" yaml:"backups" expr:"backups"`
	Keys                 []ExprApiStorageBucketKey    `json:"keys" yaml:"keys" expr:"keys"`
}

type ExprApiStorageBucketKey struct {
	ExprApiStorageBucketKeyPut `yaml:",inline"`
	Name                       string `json:"name" yaml:"name" expr:"name"`
}

type ExprApiStorageBucketKeyPut struct {
	Description string `json:"description" yaml:"description" expr:"description"`
	Role        string `json:"role" yaml:"role" expr:"role"`
	AccessKey   string `json:"access-key" yaml:"access-key" expr:"access-key"`
	SecretKey   string `json:"secret-key" yaml:"secret-key" expr:"secret-key"`
}

type ExprApiStorageBucketPut struct {
	Config      api.ConfigMap `json:"config" yaml:"config" expr:"config"`
	Description string        `json:"description" yaml:"description" expr:"description"`
}

type ExprIncusStorageBucketFullWrapper struct {
	ExprApiStorageBucketFull `json:"-" expr:"-"`
}

type ExprStorageBucket struct {
	ID              int                               `json:"-" expr:"-"`
	UUID            uuid.UUID                         `json:"uuid"          db:"primary=yes" expr:"uuid"`
	Cluster         string                            `json:"cluster"       db:"join=clusters.name" expr:"cluster"`
	Server          *string                           `json:"server"        db:"leftjoin=servers.name" expr:"server"`
	ProjectName     string                            `json:"project" expr:"project"`
	StoragePoolName string                            `json:"storage_pool_name" db:"joinon=networks.name" expr:"storage_pool_name"`
	Name            string                            `json:"name" expr:"name"`
	Object          ExprIncusStorageBucketFullWrapper `json:"object" expr:"object"`
	LastUpdated     time.Time                         `json:"last_updated"  db:"update_timestamp" expr:"last_updated"`
}

func ToExprApiStorageBucket(s api.StorageBucket) ExprApiStorageBucket {
	return ExprApiStorageBucket{
		ExprApiStorageBucketPut: ToExprApiStorageBucketPut(s.StorageBucketPut),
		Name:                    s.Name,
		S3URL:                   s.S3URL,
		Location:                s.Location,
		Project:                 s.Project,
	}
}

func ToExprApiStorageBucketBackup(s api.StorageBucketBackup) ExprApiStorageBucketBackup {
	return ExprApiStorageBucketBackup{
		Name:      s.Name,
		CreatedAt: s.CreatedAt,
		ExpiresAt: s.ExpiresAt,
	}
}

func ToExprApiStorageBucketFull(s api.StorageBucketFull) ExprApiStorageBucketFull {
	return ExprApiStorageBucketFull{
		ExprApiStorageBucket: ToExprApiStorageBucket(s.StorageBucket),
		Backups:              sliceConvert(s.Backups, ToExprApiStorageBucketBackup),
		Keys:                 sliceConvert(s.Keys, ToExprApiStorageBucketKey),
	}
}

func ToExprApiStorageBucketKey(s api.StorageBucketKey) ExprApiStorageBucketKey {
	return ExprApiStorageBucketKey{
		ExprApiStorageBucketKeyPut: ToExprApiStorageBucketKeyPut(s.StorageBucketKeyPut),
		Name:                       s.Name,
	}
}

func ToExprApiStorageBucketKeyPut(s api.StorageBucketKeyPut) ExprApiStorageBucketKeyPut {
	return ExprApiStorageBucketKeyPut{
		Description: s.Description,
		Role:        s.Role,
		AccessKey:   s.AccessKey,
		SecretKey:   s.SecretKey,
	}
}

func ToExprApiStorageBucketPut(s api.StorageBucketPut) ExprApiStorageBucketPut {
	return ExprApiStorageBucketPut{
		Config:      s.Config,
		Description: s.Description,
	}
}

func ToExprIncusStorageBucketFullWrapper(i IncusStorageBucketFullWrapper) ExprIncusStorageBucketFullWrapper {
	return ExprIncusStorageBucketFullWrapper{
		ExprApiStorageBucketFull: ToExprApiStorageBucketFull(i.StorageBucketFull),
	}
}

func ToExprStorageBucket(s StorageBucket) ExprStorageBucket {
	return ExprStorageBucket{
		ID:              s.ID,
		UUID:            s.UUID,
		Cluster:         s.Cluster,
		Server:          s.Server,
		ProjectName:     s.ProjectName,
		StoragePoolName: s.StoragePoolName,
		Name:            s.Name,
		Object:          ToExprIncusStorageBucketFullWrapper(s.Object),
		LastUpdated:     s.LastUpdated,
	}
}

// Code generated by generate-expr. DO NOT EDIT.

package inventory

import (
	"time"

	"github.com/google/uuid"
	"github.com/lxc/incus/v6/shared/api"
)

type ExprApiProfile struct {
	ExprApiProfilePut `yaml:",inline"`
	Name              string   `json:"name" yaml:"name" db:"primary=yes" expr:"name"`
	UsedBy            []string `json:"used_by" yaml:"used_by" expr:"used_by"`
	Project           string   `json:"project" yaml:"project" expr:"project"`
}

type ExprApiProfilePut struct {
	Config      api.ConfigMap  `json:"config" yaml:"config" expr:"config"`
	Description string         `json:"description" yaml:"description" expr:"description"`
	Devices     api.DevicesMap `json:"devices" yaml:"devices" expr:"devices"`
}

type ExprIncusProfileWrapper struct {
	ExprApiProfile `json:"-" expr:"-"`
}

type ExprProfile struct {
	ID          int                     `json:"-" expr:"-"`
	UUID        uuid.UUID               `json:"uuid"          db:"primary=yes" expr:"uuid"`
	Cluster     string                  `json:"cluster"       db:"leftjoin=clusters.name" expr:"cluster"`
	ProjectName string                  `json:"project" expr:"project"`
	Name        string                  `json:"name" expr:"name"`
	Object      ExprIncusProfileWrapper `json:"object" expr:"object"`
	LastUpdated time.Time               `json:"last_updated"  db:"update_timestamp" expr:"last_updated"`
}

func ToExprApiProfile(p api.Profile) ExprApiProfile {
	return ExprApiProfile{
		ExprApiProfilePut: ToExprApiProfilePut(p.ProfilePut),
		Name:              p.Name,
		UsedBy:            p.UsedBy,
		Project:           p.Project,
	}
}

func ToExprApiProfilePut(p api.ProfilePut) ExprApiProfilePut {
	return ExprApiProfilePut{
		Config:      p.Config,
		Description: p.Description,
		Devices:     p.Devices,
	}
}

func ToExprIncusProfileWrapper(i IncusProfileWrapper) ExprIncusProfileWrapper {
	return ExprIncusProfileWrapper{
		ExprApiProfile: ToExprApiProfile(i.Profile),
	}
}

func ToExprProfile(p Profile) ExprProfile {
	return ExprProfile{
		ID:          p.ID,
		UUID:        p.UUID,
		Cluster:     p.Cluster,
		ProjectName: p.ProjectName,
		Name:        p.Name,
		Object:      ToExprIncusProfileWrapper(p.Object),
		LastUpdated: p.LastUpdated,
	}
}

// Code generated by generate-expr. DO NOT EDIT.

package inventory

import (
	"time"

	"github.com/google/uuid"
	"github.com/lxc/incus/v6/shared/api"
)

type ExprApiStorageVolume struct {
	ExprApiStorageVolumePut `yaml:",inline"`
	Name                    string    `json:"name" yaml:"name" expr:"name"`
	Type                    string    `json:"type" yaml:"type" expr:"type"`
	UsedBy                  []string  `json:"used_by" yaml:"used_by" expr:"used_by"`
	Location                string    `json:"location" yaml:"location" expr:"location"`
	ContentType             string    `json:"content_type" yaml:"content_type" expr:"content_type"`
	Project                 string    `json:"project" yaml:"project" expr:"project"`
	CreatedAt               time.Time `json:"created_at" yaml:"created_at" expr:"created_at"`
}

type ExprApiStorageVolumeBackup struct {
	Name             string    `json:"name" yaml:"name" expr:"name"`
	CreatedAt        time.Time `json:"created_at" yaml:"created_at" expr:"created_at"`
	ExpiresAt        time.Time `json:"expires_at" yaml:"expires_at" expr:"expires_at"`
	VolumeOnly       bool      `json:"volume_only" yaml:"volume_only" expr:"volume_only"`
	OptimizedStorage bool      `json:"optimized_storage" yaml:"optimized_storage" expr:"optimized_storage"`
}

type ExprApiStorageVolumeFull struct {
	ExprApiStorageVolume `yaml:",inline"`
	Backups              []ExprApiStorageVolumeBackup   `json:"backups" yaml:"backups" expr:"backups"`
	Snapshots            []ExprApiStorageVolumeSnapshot `json:"snapshots" yaml:"snapshots" expr:"snapshots"`
	State                *ExprApiStorageVolumeState     `json:"state" yaml:"state" expr:"state"`
}

type ExprApiStorageVolumePut struct {
	Config      api.ConfigMap `json:"config" yaml:"config" expr:"config"`
	Description string        `json:"description" yaml:"description" expr:"description"`
	Restore     string        `json:"restore,omitempty" yaml:"restore,omitempty" expr:"restore"`
}

type ExprApiStorageVolumeSnapshot struct {
	ExprApiStorageVolumeSnapshotPut `yaml:",inline"`
	Name                            string        `json:"name" yaml:"name" expr:"name"`
	Config                          api.ConfigMap `json:"config" yaml:"config" expr:"config"`
	ContentType                     string        `json:"content_type" yaml:"content_type" expr:"content_type"`
	CreatedAt                       time.Time     `json:"created_at" yaml:"created_at" expr:"created_at"`
}

type ExprApiStorageVolumeSnapshotPut struct {
	Description string     `json:"description" yaml:"description" expr:"description"`
	ExpiresAt   *time.Time `json:"expires_at" yaml:"expires_at" expr:"expires_at"`
}

type ExprApiStorageVolumeState struct {
	Usage *ExprApiStorageVolumeStateUsage `json:"usage" yaml:"usage" expr:"usage"`
}

type ExprApiStorageVolumeStateUsage struct {
	Used  uint64 `json:"used,omitempty" yaml:"used,omitempty" expr:"used"`
	Total int64  `json:"total" yaml:"total" expr:"total"`
}

type ExprIncusStorageVolumeFullWrapper struct {
	ExprApiStorageVolumeFull `json:"-" expr:"-"`
}

type ExprStorageVolume struct {
	ID              int                               `json:"-" expr:"-"`
	UUID            uuid.UUID                         `json:"uuid"          db:"primary=yes" expr:"uuid"`
	Cluster         string                            `json:"cluster"       db:"join=clusters.name" expr:"cluster"`
	Server          *string                           `json:"server"        db:"leftjoin=servers.name" expr:"server"`
	ProjectName     string                            `json:"project" expr:"project"`
	StoragePoolName string                            `json:"storage_pool_name" db:"joinon=networks.name" expr:"storage_pool_name"`
	Name            string                            `json:"name" expr:"name"`
	Type            string                            `json:"type" expr:"type"`
	Object          ExprIncusStorageVolumeFullWrapper `json:"object" expr:"object"`
	LastUpdated     time.Time                         `json:"last_updated"  db:"update_timestamp" expr:"last_updated"`
}

func ToExprApiStorageVolume(s api.StorageVolume) ExprApiStorageVolume {
	return ExprApiStorageVolume{
		ExprApiStorageVolumePut: ToExprApiStorageVolumePut(s.StorageVolumePut),
		Name:                    s.Name,
		Type:                    s.Type,
		UsedBy:                  s.UsedBy,
		Location:                s.Location,
		ContentType:             s.ContentType,
		Project:                 s.Project,
		CreatedAt:               s.CreatedAt,
	}
}

func ToExprApiStorageVolumeBackup(s api.StorageVolumeBackup) ExprApiStorageVolumeBackup {
	return ExprApiStorageVolumeBackup{
		Name:             s.Name,
		CreatedAt:        s.CreatedAt,
		ExpiresAt:        s.ExpiresAt,
		VolumeOnly:       s.VolumeOnly,
		OptimizedStorage: s.OptimizedStorage,
	}
}

func ToExprApiStorageVolumeFull(s api.StorageVolumeFull) ExprApiStorageVolumeFull {
	return ExprApiStorageVolumeFull{
		ExprApiStorageVolume: ToExprApiStorageVolume(s.StorageVolume),
		Backups:              sliceConvert(s.Backups, ToExprApiStorageVolumeBackup),
		Snapshots:            sliceConvert(s.Snapshots, ToExprApiStorageVolumeSnapshot),
		State:                toPtr(ToExprApiStorageVolumeState(fromPtr(s.State))),
	}
}

func ToExprApiStorageVolumePut(s api.StorageVolumePut) ExprApiStorageVolumePut {
	return ExprApiStorageVolumePut{
		Config:      s.Config,
		Description: s.Description,
		Restore:     s.Restore,
	}
}

func ToExprApiStorageVolumeSnapshot(s api.StorageVolumeSnapshot) ExprApiStorageVolumeSnapshot {
	return ExprApiStorageVolumeSnapshot{
		ExprApiStorageVolumeSnapshotPut: ToExprApiStorageVolumeSnapshotPut(s.StorageVolumeSnapshotPut),
		Name:                            s.Name,
		Config:                          s.Config,
		ContentType:                     s.ContentType,
		CreatedAt:                       s.CreatedAt,
	}
}

func ToExprApiStorageVolumeSnapshotPut(s api.StorageVolumeSnapshotPut) ExprApiStorageVolumeSnapshotPut {
	return ExprApiStorageVolumeSnapshotPut{
		Description: s.Description,
		ExpiresAt:   s.ExpiresAt,
	}
}

func ToExprApiStorageVolumeState(s api.StorageVolumeState) ExprApiStorageVolumeState {
	return ExprApiStorageVolumeState{
		Usage: toPtr(ToExprApiStorageVolumeStateUsage(fromPtr(s.Usage))),
	}
}

func ToExprApiStorageVolumeStateUsage(s api.StorageVolumeStateUsage) ExprApiStorageVolumeStateUsage {
	return ExprApiStorageVolumeStateUsage{
		Used:  s.Used,
		Total: s.Total,
	}
}

func ToExprIncusStorageVolumeFullWrapper(i IncusStorageVolumeFullWrapper) ExprIncusStorageVolumeFullWrapper {
	return ExprIncusStorageVolumeFullWrapper{
		ExprApiStorageVolumeFull: ToExprApiStorageVolumeFull(i.StorageVolumeFull),
	}
}

func ToExprStorageVolume(s StorageVolume) ExprStorageVolume {
	return ExprStorageVolume{
		ID:              s.ID,
		UUID:            s.UUID,
		Cluster:         s.Cluster,
		Server:          s.Server,
		ProjectName:     s.ProjectName,
		StoragePoolName: s.StoragePoolName,
		Name:            s.Name,
		Type:            s.Type,
		Object:          ToExprIncusStorageVolumeFullWrapper(s.Object),
		LastUpdated:     s.LastUpdated,
	}
}
